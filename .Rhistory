targets = "./data/Met_mzML/targets.csv",
sep_targ = ";",
mode = "onDisk")
data_MetabRS
find_method <- xcms::CentWaveParam()
find_obj <- xcms::findChromPeaks(data_MetabRS, param = find_method)
ins_pack()
find_obj <- xcms::findChromPeaks(data_MetabRS, param = find_method)
save.image("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
class(find_obj)
find_obj
xdata
xdata[3]
xdata[,3]
xdata$sampleGroup
xdata$sample_group
find_obj$Group
pData(data_MetabRS)[3][,1]
as.chracter(pData(data_MetabRS)[3][,1])
as.character(pData(data_MetabRS)[3][,1])
class(xdata$sample_group)
class(as.character(pData(data_MetabRS)[3][,1]))
res <- quantify(xdata, value = "into")
pdp <- PeakDensityParam(sampleGroups = xdata$sample_group,
minFraction = 0.4, bw = 30)
xdata <- groupChromPeaks(xdata, param = pdp)
res <- quantify(xdata, value = "into")
res
class(res)
data_MetabSB
?fillChromPeaks
find_obj
featurelav
head(featureValues(find_obj))
class(featureValues(find_obj))
refine_method <- xcms::CleanPeaksParam()
rert_find_obj <- xcms::refineChromPeaks(find_obj,
param = refine_method)
refine_method <- xcms::FilterIntensityParam()
rein_rert_find_obj <- xcms::refineChromPeaks(rert_find_obj,
param = refine_method)
refine_method <- xcms::MergeNeighboringPeaksParam()
refi_find_obj <- xcms::refineChromPeaks(rein_rert_find_obj,
param = refine_method)
adRt_method <- xcms::ObiwarpParam()
alig_refi_find_obj <- xcms::adjustRtime(refi_find_obj,
param = adRt_method)
if(refineMN == TRUE) {
refine_method <- xcms::MergeNeighboringPeaksParam()
refi_find_obj <- xcms::refineChromPeaks(rein_rert_find_obj,
param = refine_method)
} else refi_find_obj <- rein_rert_find_obj
refi_find_obj <- rein_rert_find_obj
adRt_method <- xcms::ObiwarpParam()
alig_refi_find_obj <- xcms::adjustRtime(refi_find_obj,
param = adRt_method)
Groups <- as.character(Biobase::pData(object)[3][,1])
Groups <- as.character(Biobase::pData(data_MetabRS)[3][,1])
corr_method <- xcms::PeakDensityParam(sampleGroups = Groups)
corr_alig_refi_find_obj <- xcms::groupChromPeaks(alig_refi_find_obj,
param = corr_method)
fill_method <- xcms::ChromPeakAreaParam()
data <- fillChromPeaks(corr_alig_refi_find_obj,
param = fill_method)
data
featureValues(data)
data_MetabRS
a <- featureValues(data)
a
colnames(a)
pData[3][,1]
pData(data)[3][,1]
rownames(a) <- pData(data)[3][,1]
rownames(a) <- as.character(pData(data)[3][,1])
colnames(a) <- pData(data)[3][,1]
data
a
pData(data)
pData(data)[2]
pData(data)[2][,1]
colnames(a) <- pData(data)[2][,1]
a
featureValues(data, into)
featureValues(data, value = "into")
featureValues(data, filled = TRUE)
devtools::document()
devtools::document()
devtools::document()
?prep_metrs
?read_dataº
?read_data
data_MetabRS <- read_data(data_type = "MetabRS",
path = "./data/Met_mzML",
file_type = ".mzML",
targets = "./data/Met_mzML/targets.csv",
sep_targ = ";",
mode = "onDisk")
data_MetabRS
data <- prep_metrs(data_metabRS,
fcPmethod = "centWave",
aRtmethod = "obiwarp",
gCPmethod = "density",
fillCP = TRUE, fillmethod = "area")
data <- prep_metrs(data_MetabRS,
fcPmethod = "centWave",
aRtmethod = "obiwarp",
gCPmethod = "density",
fillCP = TRUE, fillmethod = "area")
data <- prep_metrs(data_MetabRS,
fCPmethod = "centWave",
aRtmethod = "obiwarp",
gCPmethod = "density",
fillCP = TRUE, fillmethod = "area")
devtools::document()
data <- prep_metrs(data_MetabRS,
fCPmethod = "centWave",
aRtmethod = "obiwarp",
gCPmethod = "density",
fillCP = TRUE, fillmethod = "area")
data
featureValues(data)
colnames(featureValues(data)) <- pData(data)[2][,1]
ins_pack()
colnames(featureValues(data)) <- pData(data)[2][,1]
colnames(featureValues(data))
pData(data)[2][,1]
colnames(featureValues(data)) <- as.character(pData(data)[2][,1])
devtools::document()
ins_pack
ins_pack()
library(pmp)
library(SummarizedExperiment)
library(S4Vectors)
MTBLS79
2488/172
?filter_samples_by_mvç
?filter_samples_by_mv
SummarizedExperiment_MTBLS79$meta_data_column_name
MTBLS79$meta_data_column_name
read_data
?read_data
data_MetabSB <- read_data(data_type = "MetabSB",
raw_data = "./data/Met_spectra_bins/spectra.csv",
sep_rd = ",",
targets = "./data/Met_spectra_bins/targets.csv",
sep_targ = ",")
data_MetabSB
MTBLS79
MTBLS79$Class
MTBLS79$Batch
MTBLS79$Sample_Rep
MTBLS79$Class2
MTBLS79$Class
data_MetabSB$Class
data_MetabSB[1]
data_MetabSB[1][2]
as.character(colData(data_MetabSB)[[1]])
MTBLS79_filtered <- filter_samples_by_mv(df=MTBLS79, max_perc_mv=0.1)
MTBLS79_filtered
?filter_peaks_by_fraction
MTBLS79
MTBLS79$Class2
MTBLS79$Class
MTBLS79
colData(MTBLS79)
colData(MTBLS79)[3]
str(colData(MTBLS79)[3])
?filter_peaks_by_rsd
?filter_peaks_by_blank
MTBLS79
head(assay(MTBLS79))
class(assay(MTBLS79))
class(as.matrix(assay(MTBLS79)))
head(as.matrix(assay(MTBLS79)))
nrow(assa(MTBLS79))
nrow(assay(MTBLS79))
class(assay(MTBLS79))
devtools::document()
devtools::document()
?prep_metSB
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, method = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
devtools::document()
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
coldata(data_MetabSB)[[1]]
colData(data_MetabSB)[[1]]
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
devtools::document()
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
devtools::document()
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
data_MetabSB
?write.csv
devtools::document()
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1,
filterF = TRUE, mf = 0.9, fFmethod = "across",
filterRSD = FALSE, filterB = FALSE)
a <- read.csv("./ProcessedData/proc_data2021-04-12 18:11:24.csv")
a <- read.csv("./ProcessedData/proc_data_2021-04-12 18:11:24.csv")
head(a)
a <- read.csv("./ProcessedData/proc_data_2021-04-12 18:11:24.csv", header = TRUE)
head(a)
plotTFM(data_metabr)
plotTFM(data_MetabSB, plot = "PCA")
devtools::document()
plotTFM(data_MetabSB, plot = "PCA")
class(data)
clas(MTBLS79_filtered)
class(MTBLS79_filtered)
?read_data
# Para Concentraciones de Metabolitos
data_MetabMC <- read_data(data_type = "MetabMC",
raw_data = "./data/Met_conc/concent.csv",
sep_rd = ",",
targets = "./data/Met_conc/targets.csv",
sep_targ = ",")
data_MetabMC
st000336
?read.csv
?read_csv
??read_csv
?read.table
head(MSnbase::assayData(st000336))
MSnbase::assayData(st000336)
?MSnSet
?eSet
file <- read.table("./data/Met_spectra_bins/spectra.csv", header = TRUE, row.names = 1, sep = sep_rd)
file <- read.table("./data/Met_spectra_bins/spectra.csv", header = TRUE, row.names = 1, sep = ";")
head(file)
file <- read.table("./data/Met_spectra_bins/spectra.csv", header = TRUE, row.names = 1, sep = ",")
head(file)
sampleinfo <- read.table("./data/Met_spectra_bins/spectra.csv", header = TRUE, sep = ",",
stringsAsFactors = TRUE)
sampleinfo
head(sampleinfo)
sampleinfo <- read.table("./data/Met_spectra_bins/targets.csv", header = TRUE, sep = ",",
stringsAsFactors = TRUE)
sampleinfo
head(sampleinfo)
a <- readMSnSet(path = "./data/Met_spectra_bins", exprsFile = "spectra.csv", phenoDataFile = "targets.csv")
a <- readMSnSet(path = "data/Met_spectra_bins", exprsFile = "spectra.csv", phenoDataFile = "targets.csv")
a <- readMSnSet(path = "./data/Met_spectra_bins", exprsFile = "spectra.csv", phenoDataFile = "targets.csv")
a <- readMSnSet(exprsFile = "./data/Met_spectra_bins/spectra.csv", phenoDataFile = "./data/Met_spectra_bins/targets.csv")
a <- readMSnSet(path = "./data/Met_conc", exprsFile = "concent.csv", phenoDataFile = "targets.csv")
?read_data
a <- readMSnSet(exprsFile = "./data/Met_conc/concent.csv", phenoDataFile = "./data/Met_conc/targets.csv")
file <- "./data/Met_conc/concent.csv"
t <- t(file)
a <- readMSnSet(exprsFile = t, phenoDataFile = "./data/Met_conc/targets.csv")
head(t)
?read.table
file <- read.table("./data/Met_conc/concent")
file <- read.table("./data/Met_conc/concent.csv")
head(file)
file <- read.table("./data/Met_conc/concent.csv", header = TRUE, sep = ",")
file <- read.table("./data/Met_conc/concent.csv", header = TRUE, sep = ",")
head(file)
file <- read.table("./data/Met_conc/concent.csv", header = TRUE, sep = ",", row.names = 1)
head(file)
head(file[1:6])
t <- t(file)
head(t[1:6])
head(t)
class(t)
class(file)
t <- as.data.frame(t(file))
head(t)
head(t[1:6])
a <- readMSnSet(exprsFile = t, phenoDataFile = "./data/Met_conc/targets.csv")
?quantify
?read_data
data_MetabRS <- read_data(data_type = "MetabRS",
path = "./data/Met_mzML",
file_type = ".mzML",
targets = "./data/Met_mzML/targets.csv",
sep_targ = ";",
mode = "onDisk")
data_MetabRS
?prep_metRS
data_MetabRS <- prep_metRS(data_MetabRS,
fCPmethod = "centWave",
aRtmethod = "obiwarp",
gCPmethod = "density",
fillCP = TRUE, fillmethod = "area")
data_MetabRS
save.image("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
load("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
devtools::document()
ins_pack()
data_MetabRS
head(featureValues(data))
head(featureValues(data_MetabRS))
data <- featureValues(data_MetabRS)
colnames(data) <- as.character(pData(data_MetabRS)[2][,1])
head(data)
pData(data_MetabRS)
class(pData(data_MetabRS))
pData(data_MetabRS)[2:3]
targets <- pData(data_MetabRS[2:3])
targets
targets <- pData(data_MetabRS)[2:3]
targets
res <- readMSnSet(exprsFile = data, phenoDataFile = targets)
res <- readMSnSet(exprsFile = data, phenoDataFile = targets, sep = ",")
res <- readMSnSet(exprsFile = data, phenoDataFile = targets, sep = ";")
res <- readMSnSet(exprsFile = data, phenoDataFile = targets, sep = "\"'")
head(exprs(data_MetabRS))
?quantify
res <- quantify(data_metabRS, method = "SI")
res <- quantify(data_MetabRS, method = "SI")
res <- quantify(data_MetabRS, method = "sum")
res
res <- quantify(data_MetabRS, method = "SIn")
class(data_MetabRS)
data_MetabRS
head(data)
targets
res <- PomaMSnSetClass(target = targets, features = data)
data <- t(data)
res <- PomaMSnSetClass(target = targets, features = data)
res
ncol(pData(data_MetabRS))
pData(data_MetabRS)
?read_data
data_MetabSB <- read_data(data_type = "MetabSB",
raw_data = "./data/Met_spectra_bins/spectra.csv",
sep_rd = ",",
targets = "./data/Met_spectra_bins/targets.csv",
sep_targ = ",")
data_MetabSB
prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1, filterF = true, mf = 0.9, fFmethod = "across", filterRSD = FALSE, filterB = FALSE)
prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1, filterF = TRUE, mf = 0.9, fFmethod = "across", filterRSD = FALSE, filterB = FALSE)
head(assay(data))
head(assay(data_MetabSB))
data_MetabSB <- prep_metSB(data_MetabSB, filterMV = TRUE, mpmv = 0.1, filterF = TRUE, mf = 0.9, fFmethod = "across", filterRSD = FALSE, filterB = FALSE)
data_MetabSB
head(assay(data_MetabSB))
data_MetabSB
colData(data_MetabSB)
class(colData(data_MetabRS))
class(colData(data_MetabSB))
targets <- colData(data_MetabSB)[1]
targets
pre_data_MetabSB <- read_data(data_type = "MetabSB",
raw_data = "./data/Met_spectra_bins/spectra.csv",
sep_rd = ",",
targets = "./data/Met_spectra_bins/targets.csv",
sep_targ = ",")
data_MetabSB
pre_data_MetabSB
ncol(colData(data_MetabSB))
ncol(colData(pre_data_MetabSB))
> targets <- colData(pre_data_MetabSB)[1]
targets <- colData(pre_data_MetabSB)[1]
targets
head(data)
data <-assay(data_MetabSB)
head(data)[1:8]
res <- PomaMSnSetClass(target = targets, features = data)
data <- t(data)
res <- PomaMSnSetClass(target = targets, features = data)
targets
targ <- as.data.frame(targets)
targ
res <- PomaMSnSetClass(target = targ, features = data)
nrow(targ)
ncol(targ)
nrow(data)
ncol(data)
rownames(targ) == rownames(data)
rownames(targ)
rownames(data)
class(targ)
class(data)
data <- as.data.frame(data)
class(data)
head(data)[1:8]
res <- PomaMSnSetClass(target = targ, features = data)
data_save <-featureValues(data_MetabRS)
head(data_save)
colnames(data_save) <- as.character(pData(data_MetabRS)[2][,1])
head(data_save)
class(data-save)
class(data_save)
#Generar objeto MSnSet
feat <- t(data_save)
class(feat)
head(feat)
targ <- pData(data_MetabRS)[2:ncol(pData(data_MetabRS))]
targ
class(targ)
targ <- pData(data_MetabRS)[3:ncol(pData(data_MetabRS))]
targ
data <- PomaMSnSetClass(target = targ, features = feat)
targ <- pData(data_MetabRS)[2:ncol(pData(data_MetabRS))]
data <- PomaMSnSetClass(target = targ, features = feat)
head(data)
data <- assay(data_MetabRS)
data <- featureValues(data_MetabRS)
head(data)
colnames(data) <- as.character(pData(data_MetabRS)[2][,1])
head(data)
class(data)
colData(pre_data_MetabSB)
targ <- data.frame(sample = rownames(colData(pre_data_MetabSB)), class = colData(pre_data_MetabSB)$Class)
targ
head(targ)
colData(pre_data_MetabSB)$class
colData(pre_data_MetabSB)$Class
colData(pre_data_MetabSB)[$Class]1
colData(pre_data_MetabSB)[1]
colData(pre_data_MetabSB)[[1]]
targ <- data.frame(sample = rownames(colData(pre_data_MetabSB)), class = colData(pre_data_MetabSB)[[1]])
head(targ)
head(feat)
head(data)
data <- assay(data_MetabSB)
head(data)
targ
res <- PomaMSnSetClass(features = feat, target = targ)
res <- PomaMSnSetClass(features = data, target = targ)
nrow(data)
nrow(targ)
ncol(data)
feat <- t(data)
nrow(feat)
res <- PomaMSnSetClass(features = feat, target = targ)
res
colData(pre_data_MetabSB)[[1]]
colData(pre_data_MetabSB)
sample <- data.frame(sample = rownames(SummarizedExperiment::colData(pre_data_MetabSB)))
sample
head(sample)
targ <- cbind(sample, colData(pre_data_MetabSB))
head(targ)
data <- assay(data_MetabSB)
feat <- t(data)
sample <- data.frame(sample = rownames(SummarizedExperiment::colData(pre_data_MetabSB)))
targ <- cbind(sample, SummarizedExperiment::colData(pre_data_MetabSB))
data <- POMA:PomaMSnSetClass(features = feat, target = targ)
ins_pack()
data <- assay(data_MetabSB)
feat <- t(data)
sample <- data.frame(sample = rownames(SummarizedExperiment::colData(pre_data_MetabSB)))
targ <- cbind(sample, SummarizedExperiment::colData(pre_data_MetabSB))
data <- POMA::PomaMSnSetClass(features = feat, target = targ)
data
devtools::document()
devtools::document()
?PomaImpute
pData(data)
?PomaNorm
?PomaOutliers
devtools::document()
save.image("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
load("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
devtools::document()
ins_pack()
?dist()
devtools::document()
met_imp_norm(data_MetabMC, impute = TRUE, coff = 20, immethod = "knn", nomethod = "log_pareto", routliers = FALSE)
res <- met_imp_norm(data_MetabMC, impute = TRUE, coff = 20, immethod = "knn", nomethod = "log_pareto", routliers = FALSE)
res
data_MetabMC
devtools::document()
res <- met_imp_norm(data_MetabMC, impute = TRUE, coff = 20, immethod = "knn", nomethod = "log_pareto", routliers = TRUE, oumethod = "median", ditype = "manhattan")
res
?dist
devtools::document()
?prep_norm
?met_imp_norm
procdata_MetabMC <- met_imp_norm(data_MetabMC, impute = TRUE, coff = 20,
immethod = "knn",nomethod = "log_pareto",
routliers = TRUE, oumethod = "median",
ditype = "euclidean")
procdata_MetabMC
head(exprs(procdata_MetabMC))
save.image("~/Escritorio/TFM/PEC2_Fase1/TFMjrufv/environment.RData")
library(TFMjrufv)
help(TFMjruf)
help(TFMjrufv)
TFMjrufv
?TFMjrufv::col_vect()
?TFMjrufv::cond_vect
?TFMjrufv::ins_pack
?TFMjrufv::met_imp_norm
?TFMjrufv::ngroup
?TFMjrufv::plotTFM
?TFMjrufv::prep_metRS
?TFMjrufv::prep_metSB
?TFMjrufv::prep_norm_microarray
?TFMjrufv::prep_norm_rna
?TFMjrufv::read_data
file.exists("~/.ssh/id_rsa.pub")
file.exists("~/.ssh/id_rsa.pub")
